/*!
 * 阿里巴巴企业智能前端监控： v2.38.1
 * 如有疑问请联系： 曙月<tommy.lky@alibaba-inc.com>，仓舒<caoke.ck@alibaba-inc.com>
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(3),o=n(1),i=!1,a=!1,c=function(){a||(i=Object(r.b)()._runtimeConfig.debug||/AliMonitor/.test(location.search),a=!0)},u=Date.now(),s=window.console||{log:function(){},error:function(){},warn:function(){}},l=function(e,t){c();for(var n=arguments.length,a=new Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];if(i&&s.log.apply(s,["AliMonitor ".concat(e," @ ").concat((Date.now()-u)/1e3," | "),t].concat(a)),t&&t.message){var d=window.AliMonitor&&window.AliMonitor.version,f=Object(r.d)("reporter"),p=t;s.error("===== AliMonitor Error ====="),s.error(p),f&&f.then((function(e){var t={type:"jserror",category:"sys",msg:p.message,spm:"xxpt_alimonitor_error_2",userNick:Object(o.j)(),sampling:1,tag:d,stack:p&&p.stack||d};i&&s.log("AliMonitor SelfErrorReporter @ ".concat((Date.now()-u)/1e3," | "),"Report self error",t),e.send(t)}))}},d=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(e){return l("Unknown",e)},n="function"===typeof t?t:function(e){return l(t,e)},r=function(){try{for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.apply(this,r)}catch(i){n(i)}};return r},f=function(e){for(var t=function(e){var t=Object.getOwnPropertyNames(e),n={};return t.forEach((function(t){return n[t]=Object.getOwnPropertyDescriptor(e,t)})),{names:t,descriptors:n}}(e.prototype),n=t.names,r=t.descriptors,o=function(t,o){var i=n[t],a=r[i];if(a&&"function"===typeof a.value&&"constructor"!==i){var c=a.value,u=a.configurable,s=a.enumerable;Object.defineProperty(e.prototype,i,{configurable:u,enumerable:s,get:function(){var t=function(t){var n=c.bind(t);return function(){try{return n.apply(void 0,arguments)}catch(t){l(e.name,t)}}}(this);return Object.defineProperty(this,i,{configurable:!0,writable:!0,enumerable:!1,value:t}),t}})}},i=0,a=n.length;i<a;i++)o(i)}},function(e,t,n){"use strict";n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return _})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"s",(function(){return k})),n.d(t,"r",(function(){return E})),n.d(t,"k",(function(){return x}));var r=n(9),o=n.n(r),i=n(8),a=n.n(i),c=n(7),u=function(){var e=window.document.cookie,t=(/emplid=([^;]+)/i.exec(e)||[])[1],n=(/work_?no=([^;]+)/i.exec(e)||[])[1],r=(/SSO_EMPID_HASH=([^;]+)/.exec(e)||/SSO_EMPID_HASH_V2=([^;]+)/.exec(e)||[])[1];return(window.__getUserId?window.__getUserId():t||n||r)||"0"},s=function(){return"".concat(window.Recore?"recore ":"").concat(window.RenderEngine?"legao ":"","uxdata v").concat("2.38.1")},l=function(){var e=navigator.userAgent;return/DingTalk/i.test(navigator.userAgent)?"dingTalk":/Android|iPhone|AliApp|ALIWORK/i.test(e)?"mobile":"web"},d=function(){var e,t,n=window,r=n._SPM_a,o=n._SPM_b;if(r&&o)e=r,t=o;else{var i=document.head||document.querySelector("head"),a=i&&i.getElementsByTagName("meta");if(a)for(var c=0,u=a.length;c<u;c++){var s=a[c],l=s&&s.getAttribute&&s.getAttribute("name");if(l){var d=s.getAttribute("content");if("data-spm"===l)e=d;else if("spm-id"===l){var f=d&&d.split(".")||[];e=f[0],t=f[1]}}}var p=document.body;if(p){var m=p&&p.getAttribute&&p.getAttribute("data-spm");m&&(t=m)}}return[e||"0",t||"0"]},f=function(){var e=d();if(!p(e)){var t=(location.hostname+location.pathname).replace(/[\.\/]{1}/g,"_");return"_"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t}return e.join(".")},p=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:d();return e&&2===e.length&&"0"!==e[0]&&"0"!==e[1]},m=function(e,t,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},o=r.maxTries||10,i=r.interval||1e3,a=0,c=function u(){a+=1,e()?t():a<o?setTimeout(u,i):n&&n()};setTimeout(c,0)},h=function(e,t){var n,r="string"===typeof e?e:e.src,o=0===(n=r).indexOf("//")&&"file:"===window.location.protocol?"http://".concat(n):n,i=document.createElement("script");i.crossOrigin="anonymous",i.src=o,i.async=!0,i.charset="utf-8","object"===typeof e&&Object.keys(e).forEach((function(t){"src"!==t&&(i[t]=e[t])})),t&&(i.onload=t),document.body.insertBefore(i,document.body.firstChild)},g=function(e,t){var n=function(e){return 0===e.indexOf("//")&&"file:"===window.location.protocol?"http://".concat(e):e}(e),r=document.createElement("link");r.href=n,r.rel="stylesheet",t&&(r.onload=t),document.body.insertBefore(r,document.body.firstChild)},v=function(e){return Object.entries?Object.entries(e):Object.keys(e).map((function(t){return[t,e[t]]}))},b=function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){v(t).forEach((function(t){var n=a()(t,2),r=n[0],i=n[1];Array.isArray(i)?e[r]=o()(i):"object"===typeof i&&null!=i&&Object.getPrototypeOf(i)===Object.prototype?e[r]=A({},e[r]||{},i):e[r]=i}))})),e},y=function(e,t){return e.reduce((function(e,t){return e&&e[t]?e[t]:null}),t)},w=function(){var e=window.localStorage;try{var t,n="__storage_test__";return e.setItem(n,n),t=n===e.getItem(n),e.removeItem(n),t}catch(r){return!1}},_=new Promise((function(e){if("complete"===document.readyState&&setTimeout(e,0),window.addEventListener){window.addEventListener("load",(function t(){window.removeEventListener("load",t,!1),e()}),!1)}else if(window.attachEvent){window.attachEvent("onload",(function t(){window.detachEvent("onreadystatechange",t),e()}))}})),O=("//g.alicdn.com/platform/monitor/".concat("2.38.1","/"),function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;return e&&e.substr(0,t)}),j=function(e){return new Promise((function(t){setTimeout((function(){return t()}),e)}))},k=function(e,t){var n=0;return function(){var r=(new Date).getTime();if(!(r-n<t))return n=r,e.apply(void 0,arguments)}},E=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.project,r=void 0===n?"blank-page-monitor":n,o=t.logstore,i=void 0===o?"blank-page-monitor":o,a=t.host,u=void 0===a?"cn-hangzhou.log.aliyuncs.com":a,s=Object(c.stringify)(e),l="".concat("file:"===location.protocol?"https://":"//").concat(r,".").concat(u,"/logstores/").concat(i,"/track.gif?APIVersion=0.6.0&").concat(s),d=document.createElement("img");d.src=l},x="undefined"!==typeof navigator&&/MicroMessenger/i.test(navigator.userAgent)},function(e,t,n){var r=n(21);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return se})),n.d(t,"a",(function(){return le})),n.d(t,"d",(function(){return de})),n.d(t,"c",(function(){return fe}));var r,o,i=n(2),a=n.n(i),c=n(4),u=n.n(c),s=n(5),l=n.n(s),d=n(6),f=n(0),p=n(1),m=n(7),h=document.querySelector.bind(document),g=function(e,t){var n=window.document,r=h(e),o=!r;for(var i in r||(r=n.createElement("meta")),t)r.setAttribute(i,t[i]);if(o){var a=n.head||h("head");a&&a.appendChild(r)}},v=r=function(){function e(){u()(this,e),this.loaded=!1}return l()(e,[{key:"load",value:function(e){var t=this;if(this.config=e,this.config.sdkId)return this._loadSDK();if(!h("#tb-beacon-aplus")){console.warn("aplus needs an element with tb-beacon-aplus");var n=document.createElement("script");n.id="tb-beacon-aplus",document.body.appendChild(n)}return new Promise((function(e){if(t.loaded)t.loaded=!0,e(t);else{var n=t.config.delayToOnload?p.a:Promise.resolve();n.then((function(){if(t._applyAplusConfig(),!window.g_tb_aplus_loaded&&!t.config.onlyApplyConfigs)return t._loadAPlusScript()})),n.then((function(){e(t)}))}}))}},{key:"_loadSDK",value:function(){var e=this;return window.aplus_queue=window.aplus_queue||[],new Promise((function(t){Object(p.l)({src:"//d.alicdn.com/alilog/mlog/aplus.js?id=".concat(e.config.sdkId),id:"beacon-aplus"},(function(){t(e)}))}))}},{key:"updateGlobalParams",value:function(e){if(e){var t=Object(m.parse)(function(e,t){var n=h(e);if(n)return n.getAttribute(t)}("#tb-beacon-aplus","exparams")||"");g("#tb-beacon-aplus",{exparams:Object(m.stringify)(a()(a()({},t),e))})}}},{key:"_applyAplusConfig",value:function(){var e=Object(p.j)(),t=se()._runtimeConfig,n=t.device,r=t.globalParams,o="mobile"===n||"dingTalk"===n,i=location.hostname,c=/alibaba\.com$/.test(i)||/1688\.com$/.test(i)||this.config.setRhostV;o?g('meta[name="aplus-version"]',{name:"aplus-version",content:"aplus_wap"}):(/alibaba\-inc\.com$/.test(i)||/alibabacorp\.com$/.test(i)||/aliway\.com$/.test(i))&&g('meta[name="aplus-channel"]',{name:"aplus-channel",content:"WS-ONLY"});var u=a()({aplus:null,uxdata:1,sidx:"aplusSid".concat(c?"e":"","x"),workno:e,cltime:Date.now()},r);g("#tb-beacon-aplus",{exparams:Object(m.stringify)(u)}),g('meta[name="aplus-exinfo"]',{name:"aplus-exinfo",content:"EXPARAMS"}),!this.config.plugin&&g('meta[name="aplus-xplug"]',{name:"aplus-xplug",content:"NONE"}),c&&g('meta[name="aplus-rhost-v"]',{name:"aplus-rhost-v",content:"log.mmstat.com/o.gif"}),this.config.wait&&g('meta[name="aplus-waiting"]',{name:"aplus-waiting",content:"MAN"})}},{key:"_loadAPlusScript",value:function(){var e=this,t="".concat("//g.alicdn.com/alilog","/s/").concat("8.14.1","/plugin/aplus_pubsub.js"),n="".concat("//g.alicdn.com/alilog","/mlog/aplus_v2.js");return new Promise((function(o){var i=function(){e.loaded||(e.loaded=!0,Object(f.d)(r.mName,"all script loaded"),o())};Object(f.d)(r.mName,"start loading script"),Object(p.l)(t,Object(f.e)((function(){Object(f.d)(r.mName,"plugin script loaded",t);var e=window.goldlog;e&&e.aplus_pubsub&&e.aplus_pubsub.subscribe("goldlogReady",(function(e){"complete"===e&&i()})),Object(p.n)((function(){return window.g_tb_aplus_loaded}),(function(){return i()}))}),(function(e){Object(f.d)(r.mName,e)}))),Object(p.l)(n,(function(){return Object(f.d)(r.mName,"loader script loaded")}))}))}}]),e}();v.mName="Aplus",v=r=Object(d.a)([f.a],v);var b=["button","checkbox","link","menuitem","radio","tab","combobox","search"],y=o=function(){function e(){u()(this,e),this.config={},this.loaded=!1,this.processing=!1}return l()(e,[{key:"load",value:function(){var e=this;return new Promise((function(t){e.loaded?t(e):p.a.then((function(){if(window.getComputedStyle){var t,n,r=e._wrapEvent();if("ontouchstart"in window)document.addEventListener("touchstart",(function(e){var r=e.changedTouches;r&&1===r.length&&(t={x:r[0].pageX,y:r[0].pageY},n=Date.now())})),document.addEventListener("touchend",(function(e){var o=e.changedTouches;if(t&&o&&1===o.length){var i={x:o[0].pageX,y:o[0].pageY};Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)<100&&Date.now()-n<1e3&&r({target:o[0].target})}t=null}));else document.addEventListener("mousedown",r)}})).then((function(){e.loaded=!0,Object(f.d)(o.mName,"script loaded"),t(e)}))}))}},{key:"_wrapEvent",value:function(){var e=this;return Object(f.e)((function(t){var n=t.target;if(n!==document){var r=e._findFeature(n);if(r.feature){r.text||e._findText(r);var i=r.feature,a=r.text,c=r.targetEl;if(a&&!~a.indexOf("\n")){var u={feature:i,text:/^[+-]?[\d,]+(\.\d+)?$/.test(a)?"666":Object(p.p)(a,500),xpath:e._getXPath(c)};Object(f.d)(o.mName,"send autolog report",u),se().goldlog.record({gostr:"/XXPT.autolog.click",params:u})}}}}),"Autolog ClickEventHandler")}},{key:"_getXPath",value:function(e){for(var t=[],n=function(){var n=(e.tagName||"").toLowerCase(),r=e.id;if(r)return{v:['//*[@id="'.concat(r,'"]')].concat(t).join("/")};var o=Array.prototype.slice.apply(e.parentNode.childNodes).filter((function(e){return(e.tagName||"").toLowerCase()===n}));o.length>1?t.unshift("".concat(n,"[").concat(o.indexOf(e)+1,"]")):t.unshift(n),e=e.parentNode};e.parentNode;){var r=n();if("object"===typeof r)return r.v}return"/".concat(t.join("/"))}},{key:"_innerText",value:function(e){return(e.innerText||e.title||"").replace(/(^[\s\u3000*]+)|([\s\u3000\uff1a:~-]+$)|([(\uff08]\d+[)\uff09])/gm,"")}},{key:"_findFeature",value:function(e){var t="dingTalk"===se()._runtimeConfig.device?"clickable":"",n="",r="",o=e;"pointer"===(getComputedStyle(e)||{cursor:"default"}).cursor&&(t="clickable");for(var i=0;i<5&&e.getAttribute;i++){e.getAttribute("data-spm-click")&&(t="custom");var a=e.getAttribute("data-xux-log");if(a){var c=Object(m.parse)(a);if(t=c.feature||"custom",n=c.text||"",c.ignore)return{feature:"",placeholder:r,text:n,targetEl:e};if(c.text)return{feature:t,placeholder:r,text:n,targetEl:e}}var u=e.getAttribute("role");u&&~b.indexOf(u)&&(t=u);var s=e.tagName.toLowerCase();switch(s){case"input":if("text"===(t=e.type))r=e.placeholder||"";else if("button"===t||"submit"===t){n=n||e.value,t="button";break}break;case"button":case"select":case"textarea":r=e.placeholder||"",t=s;break;case"a":case"area":t="link";break;case"label":var l=e.getElementsByTagName("input");if(l[0]){var d=l[0].type;"checkbox"!==d&&"radio"!==d||(t=d,n=n||this._innerText(e))}}if(/\b(btn|button)\b/i.test(e.className))return{feature:"button",placeholder:r,text:n,targetEl:e};if("ul"===s&&/\b(page|pagination)\b/i.test(e.className))return{feature:"pagination",placeholder:r,text:n,targetEl:o};var f=e.getElementsByTagName("select");if(1===f.length){var p=getComputedStyle(f[0]),h=p.position;"none"!==p.display&&"absolute"!==h||(t="select",e=f[0])}if(t&&"clickable"!==t&&"text"!==t&&"link"!==t)return{feature:t,placeholder:r,text:n,targetEl:e};e.parentNode&&e.parentNode!==e&&(e=e.parentNode)}return{feature:t,placeholder:r,text:n,targetEl:o}}},{key:"_findText",value:function(e){var t=e.feature,n=e.placeholder,r=e.text,o=e.targetEl;switch(t){case"custom":case"button":case"menuitem":case"tab":r=this._innerText(o);break;case"clickable":case"link":for(var i=0;i<5&&o.getAttribute&&!(r=this._innerText(o));i++)o.parentNode&&o.parentNode!==o&&(o=o.parentNode);break;default:for(var a=o,c=null,u=0;u<6&&o.getAttribute;u++){o.parentNode&&o.parentNode!==o&&(c=o,o=o.parentNode);var s=o.getElementsByTagName("label");if(s.length>1){if(c&&c.previousElementSibling){var l=c.previousElementSibling;if("label"===l.tagName.toLowerCase()){var d=this._innerText(l);d&&(r=d)}}break}if(1===s.length){var f=s[0],p=this._innerText(f);p&&(r=p);break}}r=r||n||this._innerText(a),o=a}e.text=r,e.targetEl=o}}]),e}();y.mName="autolog",y=o=Object(d.a)([f.a],y);var w,_,O=!1,j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.b.warn("AliMonitor ".concat(e," is deprecated since 2.0. Called with args ").concat(JSON.stringify(n))),O||(f.b.warn("Please check https://lark.alipay.com/xux/docs/monitor-active#%E8%A7%A3%E5%86%B3-deprecated-%E8%AD%A6%E5%91%8A"),O=!0)},k=n(10),E=n(8),x=n.n(E),A=w=function(){function e(){u()(this,e),this.enabled=!0,this.loaded=!1,this.queue=[],this.reportFunc=null,this.originalOnError=window.onerror,this.newOnError=null}return l()(e,[{key:"load",value:function(e){var t=this;return this.config=e,this.loaded?this.enabled||(this.enabled=!0):(Object(f.d)(w.mName,"load with config",e),window.onerror&&(this.originalOnError=window.onerror),this.newOnError=function(e,n,r,o,i){t.originalOnError&&t.originalOnError.call(window,e,n,r,o,i),t.enabled&&t.handleError(e,n,r,o,i)},window.onerror=this.newOnError,this.loaded=!0,this.enabled=!0),Promise.resolve(this)}},{key:"unload",value:function(){return window.onerror!==this.newOnError&&window.onerror!==this.originalOnError||(window.onerror=this.originalOnError,this.loaded=!1),this.enabled=!1,Promise.resolve(this)}},{key:"loadReportFunc",value:function(e){this.reportFunc||(this.reportFunc=e,this.queue.forEach((function(t){return e(t)})))}},{key:"handleError",value:function(e,t,n,r,o){if("string"===typeof e){var i={spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick,message:e,file:t,line:n,column:r,error:o};if(Object(f.d)(w.mName,"found",i),this.config.filter&&!1===this.config.filter(i))Object(f.d)(w.mName,"error suppressed by filter",i);else{this.reportFunc&&this.reportFunc(a()(a()({},i),this.config.params)),this.queue.push(i);var c=this.config.maxQueueSize;this.queue.length>c+15&&(this.queue=this.queue.slice(this.queue.length-c,this.queue.length),Object(f.d)(w.mName,"max queue size meet, cleaning",this.queue))}}}}]),e}();A.mName="ErrorMonitor",A=w=Object(d.a)([f.a],A);var P={rrt:["requestStart","responseStart"],dns:["domainLookupStart","domainLookupEnd"],cnt:["connectStart","connectEnd"],ntw:["fetchStart","responseStart"],dct:["responseStart","domContentLoadedEventStart"],flt:["responseStart","loadEventStart"]},S=_=function(){function e(){u()(this,e),this.performance={spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick},this.loaded=!1}return l()(e,[{key:"load",value:function(e){var t=this;return this.config=e,this.loaded?Promise.resolve(this):(Object(f.d)(_.mName,"load with config",e),p.a.then((function(){return Object(f.e)((function(){var n=se();if("dingTalk"===n._runtimeConfig.device&&e.params.ddoffline===undefined){var r=[].slice.call(document.querySelectorAll("script")).filter((function(e){return e.src&&-1===e.src.indexOf(".jsonp")&&-1===e.src.indexOf("cb=")&&-1===e.src.indexOf("callback=")})),o=[].slice.call(document.querySelectorAll("link[rel=stylesheet]")).filter((function(e){return e.href})),i=0,c=r.length+o.length,u=/^\.?(\.?\/)?[^\/]{1}/;r.forEach((function(e){var t=e.getAttribute("src");t&&u.test(t)&&-1===t.indexOf("://")&&(i+=1)})),o.forEach((function(e){var t=e.getAttribute("href");t&&u.test(t)&&-1===t.indexOf("://")&&(i+=1)}));var s=i/c*100;if(s>30){Object(f.d)(_.mName,"offline package hit",s);var l=Object(p.f)(["monitor","performance","params"],n._runtimeConfig.modules||{});l&&(l.ddoffline=2),t.config.params.ddoffline=2}Object(f.d)(_.mName,"offline package missed",s)}var d=window.performance&&window.performance.timing;d?(Object.keys(P).forEach((function(e){var n=d[P[e][0]],r=d[P[e][1]];if(n&&r){var o=r-n;o>=0&&o<t.config.timeout&&(t.performance[e]=o)}})),Object(f.d)(_.mName,"got performance",t.performance)):Object(f.d)(_.mName,"performance is not supported"),t.performance=a()(a()({},t.performance),t.config.params),t.loaded=!0}),(function(e){Object(f.d)(_.mName,e)}))(),t})))}},{key:"loadReportFunc",value:function(e){var t=this.config.params;if(window.RenderEngine){t.legaoappkey=Object(p.f)(["g_config","appKey"],window);try{t.legaopageid=window.LeGao.getContext().getCurrentPageId()}catch(n){}}e(a()(a()(a()({},this.performance),t),{},{spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick}))}}]),e}();S.mName="PerformanceMonitor",S=_=Object(d.a)([f.a],S);var T,N=n(11),R=n.n(N);var q=function(e){return"".concat(e.hostname).concat(e.pathname)},C=/([A-z\-_/]){1}\d{2,20}/g,M=function(){return Date.now()},L=function(e){var t=function(e){var t={protocol:null,port:null,resource:null,user:"",pathname:"",hash:"",search:"",href:e=(e||"").trim(),query:Object.create(null)},n=e.indexOf("://"),r=null,o=null;return t.protocol=e.substring(0,n),-1!==n&&(e=e.substring(n+3)),o=e.split("/"),"file"!==t.protocol?t.resource=o.shift()||"":t.resource="",2===(r=t.resource.split("@")).length&&(t.user=r[0],t.resource=r[1]),2===(r=t.resource.split(":")).length&&(t.resource=r[0],r[1]?(t.port=Number(r[1]),isNaN(t.port)&&(t.port=null,o.unshift(r[1]))):t.port=null),o=o.filter(Boolean),"file"===t.protocol?t.pathname=t.href:t.pathname=t.pathname||("file"!==t.protocol||"/"===t.href[0]?"/":"")+o.join("/"),2===(r=t.pathname.split("#")).length&&(t.pathname=r[0],t.hash=r[1]),2===(r=t.pathname.split("?")).length&&(t.pathname=r[0],t.search=r[1]),t.query=Object(m.parse)(t.search),t.href=t.href.replace(/\/$/,""),t.pathname=t.pathname.replace(/\/$/,""),t}(e),n=t.resource,r=t.port,o=(t.user,t.protocol),i=R()(t,["resource","port","user","protocol"]);return a()({protocol:o||location.protocol,host:"".concat(n).concat(null!=r?":".concat(r):"")||location.host,hostname:n||location.hostname,port:r},i)},I=T=function(){function e(){u()(this,e),this.enabled=!0,this.loaded=!1,this.queue=[],this.reportFunc=null,this.originalFetch=window.fetch,this.newFetch=null,this.originalOpen=XMLHttpRequest.prototype.open,this.newOpen=null,this.originalHeadAppendChild=HTMLHeadElement.prototype.appendChild,this.newHeadAppendChild=null,this.originalHeadInsertBefore=HTMLHeadElement.prototype.insertBefore,this.newHeadInsertBefore=null}return l()(e,[{key:"load",value:function(e){return this.config=e,this.loaded?this.enabled||(this.enabled=!0):(Object(f.d)(T.mName,"load with config",e),this.getPerformanceEntriesSnapshot(),this.config.json&&this.hijackXMLHTTP(),this.config.jsonp&&this.hijackScript(),this.config.fetch&&this.hijackFetch(),this.loaded=!0,this.enabled=!0),Promise.resolve(this)}},{key:"unload",value:function(){return this.release()&&(this.loaded=!1),this.enabled=!1,Promise.resolve(this)}},{key:"loadReportFunc",value:function(e){this.reportFunc||(this.reportFunc=e,this.queue.forEach((function(t){return e(t)})))}},{key:"getPerformanceEntriesSnapshot",value:function(){var e=this;window.performance&&performance.getEntries?setTimeout((function(){performance.getEntries().forEach((function(t){if(function(){if("xmlhttprequest"===t.initiatorType)return!0;if("script"===t.initiatorType){var n=L(t.name);return Object.keys(n.query).map((function(t){return-1!==e.config.jsonpCallbackParams.indexOf(t)})).filter(Boolean).length>0}}()){var n=L(t.name),r={href:location.href,_urlObject:n,url:q(n),type:"entry",spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick,_ok:!0,_detail:"",startTime:t.fetchStart,endTime:t.responseEnd};Object(f.d)(T.mName,"gathered performance entry",r),e.handleRequest(r)}}))}),0):Object(f.d)(T.mName,"no performance entry")}},{key:"hijackFetch",value:function(){var e=this;window.fetch&&window.Headers&&window.Request&&window.Response?(Object(f.d)(T.mName,"hijack Fetch"),this.newFetch=function(t,n){var r=e.originalFetch.call(this,t,n);try{if(e.enabled){if("HEAD"===(null===n||void 0===n?void 0:n.method))return r;var o="string"===typeof t?t:t&&t.url;if(!o)return Object(f.d)(T.mName,"fetch() with weird args, ignored"),r;var i=L(o),a=i.host!==location.host||i.protocol!==location.protocol,c={method:n&&n.method||"GET",href:location.href,_urlObject:i,url:q(i),type:"fetch",spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick,startTime:M(),_ok:!1,_detail:""};if(r&&r.then){var u=r,s=e.config,l=s.withDetail,d=s.detailFilter;l&&(u=r.then((function(e){var t;c.endTime=M(),c.status=e.status,c.statusText=e.statusText;var n=(null===(t=e.clone)||void 0===t?void 0:t.call(e))||e;return e.clone&&!0===l||n.ok&&"success"===l||!n.ok&&"failure"===l?n.text().then((function(t){if(c._detail=t,c._detail=d(c)||"",!a)try{c.traceId=e.headers.get("eagleeye-traceid")||e.headers.get("x-eagleeye-id")||undefined}catch(n){}return e}))["catch"]((function(t){return Object(f.d)(T.mName,"cannot call .text() on fetch result"),e})):e}))),u.then((function(t){return c.endTime=M(),c.status=t.status,c.statusText=t.statusText,c._ok=t.ok,c._detail||(c._detail="".concat(t.status)),e.handleRequest(c),t}))["catch"]((function(t){throw c.endTime=M(),c._ok=!1,c._detail=t&&t.stack||t.name||"".concat(t)||"",e.handleRequest(c),t}))}else Object(f.d)(T.mName,"result from fetch is not thenable")}}catch(p){Object(f.d)(T.mName,p)}return r},window.fetch=this.newFetch):Object(f.d)(T.mName,"hijack Fetch failed, window.fetch is falsy")}},{key:"hijackXMLHTTP",value:function(){var e=this,t=XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener,n=XMLHttpRequest.prototype&&XMLHttpRequest.prototype.removeEventListener;if(t){Object(f.d)(T.mName,"hijack XMLHttpRequest");var r=!1;this.newOpen=function(o,i){var a=this,c=arguments,u=function(){return e.originalOpen.apply(a,c)};if(!e.enabled||r)return u();if(t!==(XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener))return r=!0,u();try{var s=L(i),l=s.host!==location.host||s.protocol!==location.protocol,d={method:o,href:location.href,_urlObject:s,url:q(s),type:"json",spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick,startTime:M(),_ok:!1,_detail:""},p=null,m=function(e){n.call(e,"error",g),n.call(e,"timeout",v),n.call(e,"readystatechange",b)},h=function(t,n){p&&(clearTimeout(p),p=null),d.endTime=M(),d.status||(d.status=0),d._detail||(d._detail="0"),d._ok=n.status>199&&n.status<300||0===n.status,d.statusText=n.statusText||t,m(n),e.handleRequest(d)},g=function(){h("error",this)},v=function(){h("timeout",this)},b=function(){var t=this;try{var n=e.config,r=n.withDetail,o=n.detailFilter;if(1===this.readyState)return void(d.startTime=M());if(4===this.readyState){d.endTime=M();try{if(d._ok=this.status>199&&this.status<300||0===this.status,d.status=this.status,d.statusText=this.statusText,d.responseType=this.responseType,this.getResponseHeader&&!l)try{d.traceId=this.getResponseHeader("eagleeye-traceid")||undefined}catch(i){}if(!0===r||d._ok&&"success"===r||!d._ok&&"failure"===r)switch(this.responseType){case"":case"text":case"json":d._detail=this.responseText,d._detail=o(d)||""}d._detail||(d._detail="".concat(this.status))}catch(a){d.status=0,d._ok=!0,d.statusText="Aborted",d._detail="0"}finally{p=setTimeout((function(){m(t),e.handleRequest(d)}),0)}}}catch(a){Object(f.d)(T.mName,a)}};if(this instanceof XMLHttpRequest)try{t.call(this,"readystatechange",b),t.call(this,"error",g),t.call(this,"timeout",v)}catch(y){r=!0}else console.error("XMLHttpRequest.prototype.open \u88ab\u8c03\u7528\u65f6\u7684 this \u6307\u5411\u6709\u8bef\uff0cAliMonitor \u65e0\u6cd5\u76d1\u63a7\u6b64\u8bf7\u6c42\u6570\u636e",d)}catch(w){Object(f.d)(T.mName,w)}return u()},XMLHttpRequest.prototype.open=this.newOpen}else console.log("XMLHttpRequest \u4e0d\u652f\u6301 addEventListener\uff0cAliMonitor \u653e\u5f03\u76d1\u63a7")}},{key:"hijackScript",value:function(){var e=this;Object(f.d)(T.mName,"hijack ScriptInsertion");var t=function(t){return function(n){try{if(n&&"SCRIPT"===n.nodeName&&e.enabled){var r=n,o=r.src,i=0===o.indexOf("//")?"".concat(location.protocol,":").concat(o):o,a=L(i),c=Object(p.d)(a.query).map((function(t){var n=x()(t,2),r=n[0],o=n[1];return-1!==e.config.jsonpCallbackParams.indexOf(r)&&o})).filter((function(e){return e}))[0];if(c){var u={startTime:M(),type:"jsonp",href:location.href,url:q(a),_urlObject:a,spm:se()._runtimeConfig.spm,nick:se()._runtimeConfig.nick,_ok:!1,_detail:""},s=!1,l=r.onerror;r.onerror=function(){if(!s){s=!0;try{u.endTime=M(),u._ok=!1,e.handleRequest(u),Object(f.d)(T.mName,"jsonp script onerror triggered",u)}catch(o){Object(f.d)(T.mName,o)}}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l&&l.call.apply(l,[this].concat(n))};var d=r.onload;r.onload=function(){if(!s){s=!0;try{u.endTime=M(),u._ok=!0,e.handleRequest(u),Object(f.d)(T.mName,"jsonp script onload triggered",u),s=!0}catch(o){Object(f.d)(T.mName,o)}}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];d&&d.call.apply(d,[this].concat(n))};var m=-1!==(v=c).indexOf(".")?v.split("."):[v],h=function(t){if(t&&!s){Object(f.d)(T.mName,"window callback found",m);var n=m.slice(0,m.length-1),r=m.slice(m.length-1)[0],o=Object(p.f)(n,window);o&&(o[r]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!s){s=!0;try{u.endTime=M(),u._ok=!0;var i=e.config,a=i.withDetail,c=i.detailFilter;if(!0===a||u._ok&&"success"===a||!u._ok&&"failure"===a)try{u._detail=JSON.stringify(r),u._detail=c(u)||""}catch(l){}u._detail||(u._detail="jsonp"),e.handleRequest(u),Object(f.d)(T.mName,"window callback triggered",u)}catch(l){Object(f.d)(T.mName,l)}}t.call.apply(t,[this].concat(r))})}},g=Object(p.f)(m,window);g?h(g):window.setTimeout((function(){return h(Object(p.f)(m,window))}),0)}}}catch(_){Object(f.d)(T.mName,_)}for(var v,b=arguments.length,y=new Array(b>1?b-1:0),w=1;w<b;w++)y[w-1]=arguments[w];return t.call.apply(t,[this,n].concat(y))}};this.newHeadAppendChild=t(this.originalHeadAppendChild),this.newHeadInsertBefore=t(this.originalHeadInsertBefore);try{HTMLHeadElement.prototype.appendChild=this.newHeadAppendChild,HTMLHeadElement.prototype.insertBefore=this.newHeadInsertBefore}catch(n){Object(f.d)(T.mName,"cannot set appendChild | insertBefore on HTMLHeadElement, exit")}}},{key:"release",value:function(){var e=0,t=XMLHttpRequest.prototype.open,n=HTMLHeadElement.prototype.appendChild,r=HTMLHeadElement.prototype.insertBefore,o=window.fetch;return o!==this.newFetch&&o!==this.originalFetch||(window.fetch,this.originalFetch,e+=1),t!==this.newOpen&&t!==this.originalOpen||(XMLHttpRequest.prototype.open=this.originalOpen,e+=1),n!==this.newHeadAppendChild&&n!==this.originalHeadAppendChild||(HTMLHeadElement.prototype.appendChild=this.originalHeadAppendChild,e+=1),r!==this.newHeadInsertBefore&&r!==this.originalHeadInsertBefore||(HTMLHeadElement.prototype.insertBefore=this.originalHeadInsertBefore,e+=1),4===e}},{key:"handleRequest",value:function(e){var t=e.endTime-e.startTime<=this.config.timeout,n=!this.config.sameHost||e._urlObject.host===location.host,r=!this.config.urlFilter||this.config.urlFilter.test(e.url);if(t&&n&&r){var o=this.config.urlClassifier(e.url);if(null===o)return void Object(f.d)(T.mName,"found but won't report because of urlClassifier",e);e.url=this.config.replaceNumbers?o.replace(C,"$1*"):o,Object(f.d)(T.mName,"found",e),this.reportFunc&&this.reportFunc(a()(a()({},e),this.config.params)),this.queue.push(e);var i=this.config.maxQueueSize;this.queue.length>i+15&&(this.queue=this.queue.slice(this.queue.length-i,this.queue.length),Object(f.d)(T.mName,"max queue size meet, cleaning",this.queue))}else Object(f.d)(T.mName,"found but won't report because of".concat(t?"":" timeout").concat(n?"":" not sameHost"," ").concat(r?"":" urlFilter"),e)}}]),e}();I.mName="RequestMonitor",I=T=Object(d.a)([f.a],I);var H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;var F;!function(e){e[e.MOUNT=0]="MOUNT",e[e.READY=1]="READY",e[e.EVENT=2]="EVENT",e[e.ON_EVENT=3]="ON_EVENT",e[e.UPDATE_SESSION=4]="UPDATE_SESSION",e[e.SET_STORAGE=5]="SET_STORAGE",e[e.GET_STORAGE=6]="GET_STORAGE",e[e.SET_STORAGE_RESPONSE=7]="SET_STORAGE_RESPONSE",e[e.GET_STORAGE_RESPONSE=8]="GET_STORAGE_RESPONSE"}(F||(F={}));var U=function(){function e(e,t,n){var r=this;this.onmessage=function(){},this._self=e,this._target=t,this._ready=n||!1,this._readyCallback=[],this._messageListener=function(e){try{var t=JSON.parse(e.data);t.__xdomain_message&&(r._ready||(r._ready=!0,r._readyCallback.forEach((function(e){e()})),r._readyCallback=[]),delete t.__xdomain_message,r.onmessage(t))}catch(e){}},this._self.addEventListener("message",this._messageListener)}return e.prototype.post=function(e,t){var n=this,r=function(){var t;try{n._target.postMessage(JSON.stringify(H(H({},e),((t={}).__xdomain_message=!0,t))),"*")}catch(r){}};this._ready||t?r():this._readyCallback.push(r)},e.prototype.destroy=function(){this._self.removeEventListener("message",this._messageListener)},e}();window._XDomainStorageFrames_=window._XDomainStorageFrames_||{};var D={emulateSession:!0,pageTransitionTimeout:2e3,sessionTimeout:864e5},X=""+Math.random(),B=0,V={};function G(){return""+B+++X}function W(e){return new Promise((function(t){V[e]=t}))}var Q=function(){function e(e,t){var n=this;void 0===e&&(e="https://g.alicdn.com/platform/xdomain-storage/0.2.2/frame.html"),void 0===t&&(t={}),this._navigationListener=null,this._listeners=[],this._receivedKey={},this._options=H(H({},D),t);var r={options:this._options,url:location.href.replace(/#.*$/,""),navigationTime:window.performance&&performance.timing.navigationStart},o=function(e){var t=document.createElement("a");return t.href=e,t.cloneNode(!1).href}(e).replace(/(#.*)?$/,"#"+encodeURIComponent(JSON.stringify(r)));this._frameURL=o;var i=window._XDomainStorageFrames_[o];i?i.setAttribute("data-count",""+(+(i.getAttribute("data-count")||0)+1)):((i=document.createElement("iframe")).src=o,i.style.display="none",i.setAttribute("data-count","1"),i.setAttribute("data-xreplay-ignored",""),document.body.appendChild(i)),this._frame=i,window._XDomainStorageFrames_[o]=i;var a=new U(window,i.contentWindow);a.onmessage=this._onMessage.bind(this),this._messager=a,this._options.emulateSession&&(this._navigationListener=function(){n._messager.post({type:F.UPDATE_SESSION,url:location.href.replace(/#.*$/,"")})},["mousedown","touchstart","beforeunload"].forEach((function(e){window.addEventListener(e,n._navigationListener,{capture:!0,passive:!0})}))),a.post({type:F.MOUNT},!0)}return e.prototype._onMessage=function(e){e.type==F.GET_STORAGE_RESPONSE||e.type==F.SET_STORAGE_RESPONSE?V[e.id]&&(V[e.id](e),delete V[e.id]):e.type==F.ON_EVENT&&(this._receivedKey[e.key]||(this._receivedKey[e.key]=!0,this._listeners.forEach((function(t){t.type==e.event&&t.callback(e.data)}))))},e.prototype.setItem=function(e,t,n){var r=this;return new Promise((function(o,i){try{var a=G();r._messager.post({type:F.SET_STORAGE,id:a,key:e,session:!!n,value:JSON.stringify(t)}),W(a).then((function(e){e.type==F.SET_STORAGE_RESPONSE&&o()}))}catch(c){i(c)}}))},e.prototype.getItem=function(e){var t=this;return new Promise((function(n,r){var o=G();t._messager.post({type:F.GET_STORAGE,id:o,key:e}),W(o).then((function(e){if(e.type==F.GET_STORAGE_RESPONSE)try{n(JSON.parse(e.value))}catch(t){r(t)}}))}))},e.prototype.removeItem=function(e,t){return this.setItem(e,undefined,t)},e.prototype.addEventListener=function(e,t){this._listeners.push({type:e,callback:t})},e.prototype.removeEventListener=function(e,t){this._listeners=this._listeners.filter((function(n){return n.type!==e||t&&n.callback!==t}))},e.prototype.dispatchEvent=function(e,t,n){var r=Math.random();n&&(this._receivedKey[r]=!0),this._messager.post({type:F.EVENT,event:e,data:t,key:r})},e.prototype.destroy=function(){var e=this,t=+(this._frame.getAttribute("data-count")||0);t>1?this._frame.setAttribute("data-count",""+(t-1)):(this._frame.parentElement.removeChild(this._frame),delete window._XDomainStorageFrames_[this._frameURL]),this._navigationListener&&["mousedown","touchstart","beforeunload"].forEach((function(t){window.removeEventListener(t,e._navigationListener,{capture:!0})})),this._messager.destroy()},e}(),$=function(){function e(){u()(this,e),this.loaded=!1}return l()(e,[{key:"load",value:function(e){var t=this;return this.loaded?Promise.resolve(this):(this.config=e,window.AliMonitor._plugin={debug:f.c,loadModule:de,getInObject:p.f,log:f.d,getPageSPM:p.g,xstorage:"dingTalk"===Object(p.e)()||p.k?undefined:new Q},this.loaded=!0,Promise.all([this.loadInternalPlugins(),this.loadExternalPlugins()]).then((function(){return t})))}},{key:"loadInternalPlugins",value:function(){return this.config.internal?(window.performance&&performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(150),window.Promise||(window.Promise=Promise),new Promise((function(e){Object(p.l)("//g.alicdn.com/platform/monitor-plugin/index.js",(function(){e()}))}))):Promise.resolve()}},{key:"loadExternalPlugins",value:function(){var e=Promise.resolve();if(!this.config.external)return e;var t=window.AliMonitor._plugin.xstorage;return t?e.then((function(){return Promise.all(["xreplay_version","click_version","remote_uat_version"].map((function(e){return t.getItem(e)})))})).then((function(e){var t=x()(e,3),n=t[0],r=t[1],o=t[2],i=Object(m.parse)(location.search.replace("?",""));return[i["am-xreplay"]||n,i["am-click"]||r,i["am-remote-uat"]||o]})).then((function(e){var n=x()(e,3),r=n[0],o=n[1],i=n[2];r&&(t.setItem("xreplay_version",r,!0),Object(p.l)("//g.alicdn.com/platform/page-recorder/".concat(r,"/recorder.js"))),o&&(t.setItem("click_version",o,!0),Object(p.m)("//g.alicdn.com/platform/monitor-click-data-render/".concat(o,"/index.css")),Object(p.l)("//g.alicdn.com/platform/monitor-click-data-render/".concat(o,"/index.js"))),i&&(t.setItem("remote_uat_version",i,!0),Object(p.l)("//g.alicdn.com/platform/remote-uat/".concat(i,"/recorder.js")))})):void 0}}]),e}();$.mName="Plugin",$=Object(d.a)([f.a],$);var z,K=n(9),J=n.n(K),Y=n(12),Z="_AliMonitor_Unsent_Reports",ee=window.localStorage,te=z=function(){function e(){u()(this,e),this.loaded=!1,this.requestPool={},this.requestQueue=[],this.uid=z.getUID(),this.intervalTimer=null,this.count=0,this.url="file:"===location.protocol?"https://retcode.taobao.com/r.png":"//retcode.taobao.com/r.png",this.originalWindowOnBeforeUnload=window.onbeforeunload}return l()(e,[{key:"load",value:function(e){var t=this;return p.a.then((function(){return t.config=e,f.c&&1!==t.config.sampling&&(t.config.sampling=1,Object(f.d)(z.mName,"Overwrite sampling to 1 since inDebugMode = true")),t.loaded||(Object(f.d)(z.mName,"loaded"),e.disableRetcode||(setTimeout((function(){return t.startCheck()}),0),e.persistUnsent&&(Object(p.b)()?(t.loadUnsent(),window.onbeforeunload=function(){t.loaded&&t.saveUnsent();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.originalWindowOnBeforeUnload&&t.originalWindowOnBeforeUnload.apply(window,n)}):Object(f.d)(z.mName,"localStorage check failed. persistUnsent can't work")))),t.loaded=!0,t}))}},{key:"unload",value:function(){return this.stopCheck(),this.loaded=!1,this.requestPool={},this.requestQueue=[],this.config.persistUnsent&&this.saveUnsent(),Promise.resolve(this)}},{key:"send",value:function(e){this.config.disableRetcode?Object(f.d)(z.mName,"ignore because disableRetcode = true"):(Object(f.d)(z.mName,"Push request into queue",e),e.tag||(e.tag=Object(p.h)()),this.requestQueue.push({times:1,query:e}))}},{key:"reportError",value:function(e){var t={sampling:1,type:"jserror",spm:e.spm,userNick:e.nick,category:"sys",msg:Object(p.p)(e.message),file:Object(p.p)(e.file),col:e.column,line:e.line,stack:Object(p.p)(e.error&&e.error.stack)};return this.send(t)}},{key:"reportPerformance",value:function(e){var t=e.spm,n=e.nick,r=R()(e,["spm","nick"]),o=a()({sampling:this.config.sampling,type:"per",spm:t,userNick:n},r);return this.send(o)}},{key:"reportRequest",value:function(e){var t=e,n=this.config,r=n.sampling,o=n.simulate,i=n.sendRequestAsAES,a={sampling:r,type:"retcode",spm:e.spm,userNick:e.nick,api:e.url,delay:e.endTime-e.startTime,msg:0===t.status?"aborted":e._ok?"success":t.statusText?t.statusText:"failure",detail:Object(p.p)(e._detail),issucess:e._ok?"true":"false",traceId:e.traceId};return!o&&i&&oe(e,a),this.send(a)}},{key:"loadUnsent",value:function(){var e=ee.getItem(Z);if(e)try{var t,n=JSON.parse(e);if(!Array.isArray(n))throw new Error("unsentReqs is not an Array");Object(f.d)(z.mName,"loading unsent reqs",n),(t=this.requestQueue).push.apply(t,J()(n))}catch(r){Object(f.d)(z.mName,"error happens when parsing unsent reqs",r)}finally{ee.removeItem(Z)}Object(f.d)(z.mName,"no unsent reqs found")}},{key:"saveUnsent",value:function(){if(this.loadUnsent(),0!==this.requestQueue.length){var e=this.requestQueue;e.length>100&&(e=e.slice(e.length-100,e.length)),this.requestQueue=[];var t=JSON.stringify(e);ee.setItem(Z,t),Object(f.d)(z.mName,"saved unsent reqs",e)}}},{key:"startCheck",value:function(){var e=this,t=0,n=Object(f.e)((function(){t+=1,Object(f.d)(z.mName,"check loop ".concat(t));var n=e.config.maxParallelRequest-Object.keys(e.requestPool).length;n>1&&e.requestQueue.splice(0,n).forEach((function(t){var n=t.query,r=t.times,o={uid:e.uid,query:n,_t:~new Date+(e.count++).toString(),times:r};e.startRequest(o)}))}),z.mName);this.intervalTimer=window.setInterval(n,this.config.sendInterval),n()}},{key:"stopCheck",value:function(){this.intervalTimer&&clearInterval(this.intervalTimer),this.intervalTimer=null}},{key:"addToPool",value:function(e){var t="".concat(Date.now(),"-").concat(1e4*Math.random()|0);return this.requestPool[t]=e,t}},{key:"removeFromPool",value:function(e){delete this.requestPool[e]}},{key:"startRequest",value:function(e){var t=this;if(!this.config.disableRetcode){var n=e.query.sampling||1;if(1===n||0!==(Math.random()*n|0)){var r=document.createElement("img"),o=this.addToPool(r);r.onload=r.onerror=function(){t.removeFromPool(o)},setTimeout((function(){return t.removeFromPool(o)}),500);var i,c,u=a()(a()({uid:e.uid,_t:e._t,times:e.times},se()._runtimeConfig.globalParams||{}),e.query);Object(f.d)(z.mName,"Send request",u),this.config.simulate?this.removeFromPool(o):(r.src=(i=this.url,c=u,"".concat(i).concat(-1!==i.indexOf("?")?"&":"?").concat(Object(m.stringify)(c))),this.config.sendErrorAsGoldlog&&"jserror"===u.type&&re(u))}else Object(f.d)(z.mName,"Filtered because of sampling ".concat(n),e.query)}}}]),e}();te.mName="Reporter",te.getUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},te=z=Object(d.a)([f.a],te);var ne,re=Object(p.s)((function(e){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:["/XXPT.apm.jserror","OTHER",Object(k.c)(e||{}),"H"+Object(k.b)("/XXPT.apm.jserror")]})}),1e4),oe=function(e,t){Object(Y.a)((function(t){var n,r=function(){switch(e.type){case"fetch":case"json":return e.method;case"jsonp":return"GET";case"entry":return}}();t.log("api",a()({url:e.url,success:e._ok,status:null!==(n=e.status)&&void 0!==n?n:200,code:"",duration:e.endTime-e.startTime,trace_id:e.traceId||"",params:Object(p.p)(Object(m.stringify)(e._urlObject.query||{}),500),response:Object(p.p)(e._detail,500),headers:"",rtype:"fetch"===e.type?"fetch":"xhr"},r?{method:r}:{}))}))},ie=(ne=window.AliMonitor)?(ne.version||(ne.version="2.38.1"),ne):window.AliMonitor={version:"2.38.1"},ae=Object(p.i)(),ce=Object(p.g)(),ue={spm:ae,nick:Object(p.j)(),globalParams:{},device:Object(p.e)(),debug:!1,modules:{aplus:{sdkId:"work.alibaba-inc.com"===location.hostname?"55041909256746":undefined,delayToOnload:!0,plugin:!0,onlyApplyConfigs:!1,wait:undefined,setRhostV:!1},monitor:{error:{maxQueueSize:50,params:{},filter:function(e){var t=e.message,n=(e.error||{}).stack;return(!n||!/(?:moz|chrome)-extension:\/\//.test(n))&&(!t||-1==t.indexOf("ResizeObserver"))}},performance:{timeout:3e5,params:{}},request:{maxQueueSize:100,json:!0,jsonp:!0,fetch:!0,jsonpCallbackParams:["cb","callback"],sameHost:!1,timeout:3e5,urlFilter:null,urlClassifier:function(e){return-1!==e.indexOf("g.alicdn.com")?null:e},replaceNumbers:!0,params:{},withDetail:!1,detailFilter:function(e){return e._detail}}},reporter:{disableRetcode:!1,sendInterval:4e3,maxParallelRequest:20,persistUnsent:!1,simulate:!1,sampling:1,sendErrorAsGoldlog:!1,sendRequestAsAES:!0},deprecated:{},plugin:{external:!1,internal:!1},autolog:null},stopReport:(/AliMonitor/.test(location.search),/alibaba\.net/.test(location.hostname)||/alitest\.com/.test(location.hostname)),spa:"__spa__"===ce[1],disableRetcode:!0},se=function(){if(ie.loaded)return ie;var e=Object(p.o)({},ue,ie.config||{}),t=e.modules;t&&(e.spa&&t.aplus&&t.aplus.wait===undefined&&(t.aplus.wait=!0),e.disableRetcode&&(t.reporter&&(t.reporter.disableRetcode=!0),t.monitor&&(t.monitor.performance=null,t.monitor.error=null)),e.stopReport&&(t.plugin&&(t.plugin={external:!0,internal:!1}),t.reporter=null,t.aplus=null));var n=ie;return n._runtimeConfig=e,n._runtime={aplus:null,monitor:null,reporter:null,deprecated:null,plugin:null,autolog:null,blankScreen:null},n.loaded=!0,n},le=function(e,t){var n=se()._runtime,r=function(e){var t=se()._runtimeConfig.modules;return t&&t[e]}(e);if(!r)return null;if(n[e])return n[e];var o=t&&t(r)||null;return n[e]=o,o},de=function(e){switch(e){case"aplus":return le(e,(function(e){return e&&(new v).load(e)}));case"plugin":return le(e,(function(e){return e&&(new $).load(e)}));case"reporter":return le(e,(function(e){return e&&(new te).load(e)}));case"monitor":return le(e,(function(e){return e&&function(e){return new Promise((function(t){var n=e.error,r=e.performance,o=e.request;try{var i=Promise.resolve(null);Promise.all([n&&(new A).load(n)||i,r&&(new S).load(r)||i,o&&(new I).load(o)||i]).then((function(e){var t=x()(e,3);return{error:t[0],performance:t[1],request:t[2]}})).then(t)}catch(a){Object(f.d)("MonitorLoader",a),t({error:null,performance:null,request:null})}}))}(e)}));case"deprecated":return le(e,(function(e){return e&&function(){var e=se();e.push=function(){for(var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];j.apply(void 0,[".push",t].concat(r)),t.gostr?(f.b.warn("Please use AliMonitor.goldlog.record"),e.goldlog.record(t)):f.b.warn("This kind of call is not supported")},e.sendPV=function(){for(var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];j.apply(void 0,[".sendPV",t].concat(r)),f.b.warn("Please use AliMonitor.goldlogSendPV"),e.goldlog.sendPV(t)};var t=window.__WPO||(window.__WPO={}),n=1;return t.setConfig||(t.setConfig=Object(f.e)((function(t){var r=t.spmId,o=t.nick,i=t.sample;j(" window.__WPO.setConfig",{spmId:r,nick:o,sample:i}),f.b.warn("Please set AliMonitor.config in head element"),e.setConfig("spm",r),e.setConfig("nick",o),n=i!==undefined?i:n}))),t.custom||(t.custom=Object(f.e)((function(t,r,o){j(" window.__WPO.custom",t,r,o),f.b.warn("Please use AliMonitor.reportCustom"),1===t||"count"===t?e.send({type:"custom",category:"count",sampling:n,key:r,spm:e._runtimeConfig.spm,userNick:e._runtimeConfig.nick}):0!==t&&"time"!==t||e.send({type:"custom",category:"time",sampling:n,key:r,value:o,spm:e._runtimeConfig.spm,userNick:e._runtimeConfig.nick})}))),Promise.resolve()}()}));case"autolog":return le(e,(function(){return(new y).load()}))}return null},fe=function(){var e=de("monitor"),t=e&&e.then((function(e){var t=e.error,n=e.performance,r=e.request,o=de("reporter");o&&o.then((function(e){window.__WPO&&(window.__WPO._ready||window.__WPO.uid)?window.console&&console.log("AliMonitor finds retcode script on this page and automatically stops report stats"):(t&&t.loadReportFunc(e.reportError),r&&r.loadReportFunc(e.reportRequest),n&&(se()._runtimeConfig.spa||n.loadReportFunc(e.reportPerformance)))}))}));return Object(k.a)(),Promise.all([t,de("deprecated"),de("aplus"),de("plugin"),de("autolog")].filter((function(e){return null!==e}))).then((function(){return se()}))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}Object.create;Object.create},function(e,t,n){"use strict";t.decode=t.parse=n(28),t.encode=t.stringify=n(29)},function(e,t,n){var r=n(25),o=n(26),i=n(14),a=n(27);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},function(e,t,n){var r=n(22),o=n(23),i=n(14),a=n(24);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return x}));var r,o=n(9),i=n.n(o),a=n(11),c=n.n(a),u=n(8),s=n.n(u),l=n(2),d=n.n(l),f=n(12),p=n(4),m=n.n(p),h=n(5),g=n.n(h),v=n(6),b=n(0),y=n(3),w=n(1),_=r=function(){function e(){m()(this,e),this.configs=[],this.loaded=!1}return g()(e,[{key:"load",value:function(e){var t,n=this,o=Array.isArray(e)?e:[e];return Object(b.d)(r.mName,"load with config",e),(t=this.configs).push.apply(t,i()(o.map((function(e){return d()(d()({},e),{},{timer:setTimeout((function(){var t,r,o=e.selector,i=e.checkpoint,a=void 0===i?"innerHTML":i,c=null===(t=document)||void 0===t||null===(r=t.querySelector)||void 0===r?void 0:r.call(t,o),u=!0;(c&&!a||c&&"string"===typeof a&&c[a]||c&&"function"===typeof a&&a(c))&&(u=!1),n.handleBlackScreen(e,u)}),e.timeout)})})))),Promise.resolve(this)}},{key:"handleBlackScreen",value:function(e,t){var n,o,i=e.timeout,a=e.selector,c=e.appName,u={spm:Object(y.b)()._runtimeConfig.spm,app_name:c,uid:Object(w.j)(),ua:(null===(n=navigator)||void 0===n?void 0:n.userAgent)||"",url:null===(o=location)||void 0===o?void 0:o.href,timeout:i,selector:a,client_ts:(new Date).valueOf(),is_blank:t?"true":"false"};Object(b.d)(r.mName,"found",u),Object(w.r)(u)}}]),e}();_.mName="BlankScreen",_=r=Object(v.a)([b.a],_);var O="GlobalFunc",j=function(){return window.goldlog_queue||(window.goldlog_queue=[])},k=function(e){var t=[];for(var n in e){var r=e[n];null==r&&(r=""),t.push(n+"="+r)}return t.join("&")},E=function(e){var t=(e=(e||"").split("#")[0].split("?")[0]).length;return t?function(e){var t,n=e.length,r=0;for(t=0;t<n;t++)r=31*r+e.charCodeAt(t);return r}(t+"#"+e.charCodeAt(t-1)):-1},x=function(){var e=Object(y.b)(),t={sendPV:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{var t=e.spma,n=e.spmb,r=e.data,o=Object(w.f)(["goldlog","spm_ab"],window),i=o||Object(w.g)();(t||n)&&(i=[t||i[0],n||i[1]],j().push({action:"goldlog.setPageSPM",arguments:i})),j().push({action:"goldlog.sendPV",arguments:[{is_auto:!1,checksum:E(i.join("."))},r]})}catch(a){b.b.error(a)}},record:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{if(!t.gostr)throw new Error("gostr is falsy");if(t.spmc&&t.spmd){var n=e._runtimeConfig.spm.split("."),r=Object(w.c)(n)?n:Object(w.g)();t.spma=t.spma||r[0],t.spmb=t.spmb||r[1],t.gostr=[t.gostr,t.spma,t.spmb,t.spmc,t.spmd].join(".")}(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[t.gostr,t.gmkey||"CLK",k(t.params||{}),"H"+E(t.gostr)]})}catch(o){b.b.error(o)}}},n=Object(b.e)((function(t,n){var r=Object(w.q)(16);if(t&&(e._runtimeConfig[t]=n),"globalParams"===t){var o=Object(y.d)("aplus");if(o)return o.then((function(e){return e.updateGlobalParams(n),r}))}return r}),"SetConfigFunc"),r=Object(b.e)((function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.spmA,o=t.spmB,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"a",a=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if(Object(b.d)(O,"AliMonitor.switchPage from Ultimate"),r||o){var c=e._runtimeConfig.spm.split("."),u="__spa__"===c[1]||"0"===c[1];u&&(a=!0);var s=Object(w.f)(["goldlog","spm_ab"],window)||Object(w.g)(),l=[r||c[0],o||c[1]],d=[r||s[0],o||s[1]],f=l.join("."),p=d.join("."),m=!("a"!==i&&"g"!==i||!a)||p!==s.join("."),h=!("a"!==i&&"r"!==i||!a)||f!==c.join(".");if(m&&(j().push({action:"goldlog.setPageSPM",arguments:d}),Object(b.d)(O,"AliMonitor.switchPage set aplus spm to ".concat(p)),j().push({action:"goldlog.sendPV",arguments:[{is_auto:!1,checksum:E(m?p:s.join("."))}]})),h){n("spm",f),Object(b.d)(O,"AliMonitor.switchPage set retcode spm to ".concat(f));var g=Object(y.d)("reporter"),v=Object(y.d)("monitor");Object(b.d)(O,"AliMonitor.switchPage to ".concat(f)),v&&g&&g.then((function(e){v.then((function(t){var n=t.performance;n&&n.loadReportFunc(e.reportPerformance)}))}))}}else b.b.error("AliMonitor.switchPage should be called with at least one of spmA/spmB")}),"SwitchPageFunc"),o=Object(b.e)((function(t){if(t&&"object"===typeof t){var n=Object(y.d)("reporter");n&&n.then((function(n){n.send(d()({spm:e._runtimeConfig.spm,userNick:e._runtimeConfig.nick},t))}))}else b.b.error("Query should be an object")}),"SendFunc"),a=Object(b.e)((function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};o(d()({type:"jserror",category:"sys",sampling:1,msg:e.message,stack:e.stack},t))}),"ReportErrorFunc"),u=Object(b.e)((function(e){var t=e.category,n=e.key,r=e.value,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};o(d()({type:"custom",category:t||"count",sampling:1,key:n,value:r||""},i))}),"ReportCustomFunc"),l=Object(b.e)((function(e){var t=e.api,n=e.success,r=e.time,i=e.msg,a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};o(d()({type:"retcode",sampling:1,api:t||"unknown_api",issucess:!!n&&"true",delay:r,msg:i||(n?"success":"failure")},a))}),"ReportRequestFunc"),p=Object(b.e)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};o(d()({type:"log",sampling:1,msg:e||""},t))}),"ReportLogFunc"),m=Object(b.e)((function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=Object(y.d)("monitor"),n=Object(y.d)("reporter");t&&n&&Promise.all([t,n]).then((function(t){var n=s()(t,2),r=n[0].performance,o=n[1];r&&r.loadReportFunc((function(t){return o.reportPerformance(d()(d()({},t),e))}))}))}),"ReportPerformanceFunc"),h=Object(b.e)((function(e){if(e&&e.id){var t=e.id,n=e.type,r=e.xpath,o=c()(e,["id","type","xpath"]);Object(f.a)((function(e){e.log("event",d()({p1:t,p4:n,p5:r},o))}))}})),g=Object(b.e)((function(){var e=Object(y.d)("aplus");if(e)return e.then((function(){return Object(w.q)(16)}))}),"RestartSessionFunc"),v=Object(b.e)((function(t,n){var r=e._runtimeConfig.modules;if(r)return r.blankScreen=n,Object(y.a)(t,(function(){return(new _).load(n)}))}),"LoadModuleFunc"),x=Object(b.e)((function(t,n){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if("hook"===t)return b.b.error("Cannot hook himself");var o=e[t];o&&"function"===typeof o?e[t]=r?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=n.apply(void 0,t);o.apply(void 0,i()(a!==undefined?a||[]:t))}:function(){o.apply(void 0,arguments),n.apply(void 0,arguments)}:b.b.error("Hook on an unknown function ".concat(t))}),"HookFunc");e.hook=x,e.send=o,e.goldlog=t,e.setConfig=n,e.switchPage=r,e.reportError=a,e.reportRequest=l,e.reportCustom=u,e.reportLog=p,e.reportEvent=h,e.reportPerformance=m,e.restartSession=g,e._pageLoadPromise=w.a,e.loadModule=v}},function(e,t,n){var r=n(30);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=null,i=[];Object(r.n)((function(){return window.AES&&window.AES.log}),(function(){o=!0,i.forEach((function(e){try{e(window.AES)}catch(t){console.error(t)}})),i=[]}),(function(){o=!1,i=[]}));var a=function(e){o?e(window.AES):null==o&&i.push(e)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";n.r(t),window._AliMonitor_Loaded?window.console&&console.warn("AliMonitor Ultimate has already been loaded. Exit."):(n(16),window._AliMonitor_Loaded=!0,window._AliMonitor_Lite_Loaded?n(20):n(31))},function(e,t,n){"use strict";window.Promise||(window.Promise=n(17)),Object.assign||(Object.assign=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e})},function(e,t,n){"use strict";var r=n(18);e.exports=r;var o=l(!0),i=l(!1),a=l(null),c=l(undefined),u=l(0),s=l("");function l(e){var t=new r(r._0);return t._V=1,t._W=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(e===undefined)return c;if(!0===e)return o;if(!1===e)return i;if(0===e)return u;if(""===e)return s;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(n){return new r((function(e,t){t(n)}))}return l(e)};var d=function(e){return"function"===typeof Array.from?(d=Array.from,Array.from(e)):(d=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};r.all=function(e){var t=d(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function i(a,c){if(c&&("object"===typeof c||"function"===typeof c)){if(c instanceof r&&c.then===r.prototype.then){for(;3===c._V;)c=c._W;return 1===c._V?i(a,c._W):(2===c._V&&n(c._W),void c.then((function(e){i(a,e)}),n))}var u=c.then;if("function"===typeof u)return void new r(u.bind(c)).then((function(e){i(a,e)}),n)}t[a]=c,0===--o&&e(t)}for(var a=0;a<t.length;a++)i(a,t[a])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){d(e).forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype["catch"]=function(e){return this.then(null,e)}},function(e,t,n){"use strict";var r=n(19);function o(){}var i=null,a={};function c(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==o&&p(e,this)}function u(e,t){for(;3===e._V;)e=e._W;if(c._Y&&c._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);!function(e,t){r((function(){var n=1===e._V?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(n){return i=n,a}}(n,e._W);r===a?l(t.promise,i):s(t.promise,r)}else 1===e._V?s(t.promise,e._W):l(t.promise,e._W)}))}(e,t)}function s(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(t){return i=t,a}}(t);if(n===a)return l(e,i);if(n===e.then&&t instanceof c)return e._V=3,e._W=t,void d(e);if("function"===typeof n)return void p(n.bind(t),e)}e._V=1,e._W=t,d(e)}function l(e,t){e._V=2,e._W=t,c._Z&&c._Z(e,t),d(e)}function d(e){if(1===e._U&&(u(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)u(e,e._X[t]);e._X=null}}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(r){return i=r,a}}(e,(function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,l(t,e))}));n||r!==a||(n=!0,l(t,i))}e.exports=c,c._Y=null,c._Z=null,c._0=o,c.prototype.then=function(e,t){if(this.constructor!==c)return function(e,t,n){return new e.constructor((function(r,i){var a=new c(o);a.then(r,i),u(e,new f(t,n,a))}))}(this,e,t);var n=new c(o);return u(this,new f(e,t,n)),n}},function(e,t,n){"use strict";function r(e){i.length||(o(),!0),i[i.length]=e}e.exports=r;var o,i=[],a=0;function c(){for(;a<i.length;){var e=a;if(a+=1,i[e].call(),a>1024){for(var t=0,n=i.length-a;t<n;t++)i[t]=i[t+a];i.length-=a,a=0}}i.length=0,a=0,!1}var u="undefined"!==typeof global?global:self,s=u.MutationObserver||u.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}o="function"===typeof s?function(e){var t=1,n=new s(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(c):l(c),r.requestFlush=o,r.makeRequestCallFromTimer=l},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(3),i=n(10),a=n(1),c=window.AliMonitor,u=c._runtimeConfig||{};c.versionUltimate="2.38.1";var s={device:Object(a.e)(),modules:{aplus:{delayToOnload:!0,plugin:!0,onlyApplyConfigs:!1,wait:u.spa,setRhostV:!1,disableSID:!0},deprecated:{},plugin:{external:!1,internal:!1},autolog:null}};Object(a.o)(u,s),r.b.log("AliMonitor Ultimate Entry detects Lite version and merged _runtimeConfig",u);var l=Object(o.d)("aplus"),d=Object(o.d)("deprecated"),f=Object(o.d)("plugin"),p=Object(o.d)("blankScreen"),m=Promise.resolve(null);Object(i.a)(),Promise.all([l||m,d||m,f||m,p||m]).then((function(){return Object(r.d)("Entry",'AliMonitor Ultimate successfully append "aplus", "deprecated", "plugin", "blankScreen" module')}),(function(e){return Object(r.d)("Entry",e)}))},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(13);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=undefined;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==c["return"]||c["return"]()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!==typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var s=0;s<u;++s){var l,d,f,p,m=e[s].replace(a,"%20"),h=m.indexOf(n);h>=0?(l=m.substr(0,h),d=m.substr(h+1)):(l=m,d=""),f=decodeURIComponent(l),p=decodeURIComponent(d),r(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,o){return t=t||"&",n=n||"=",null===e&&(e=undefined),"object"===typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(r(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(r(e))})).join(t):i+encodeURIComponent(r(e[o]))})).join(t):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(e)):""}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(0),i="[object Window]"!=={}.toString.call(window),a=Date.now();Object(r.c)().then((function(){return window._AliMonitor_Handle_Queue})).then((function(){window.parent===window&&o.b.log("AliMonitor Ultimate v".concat(window.AliMonitor.version," Loaded in ").concat((Date.now()-a)/1e3,"s"));var e=function(e){return setTimeout(e,0)},t=window.AliMonitorQueue;window.AliMonitorQueue={push:e},t&&t.length>0&&(t.forEach(e),t.push=e),i&&o.b.warn("AliMonitor detected window is abnormal.")}),(function(e){return Object(o.d)("Entry",e)}))}]);